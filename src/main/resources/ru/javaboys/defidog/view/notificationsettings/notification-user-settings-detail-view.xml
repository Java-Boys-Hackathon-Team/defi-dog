<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<view xmlns="http://jmix.io/schema/flowui/view"
      title="msg://notificationSettingsDetailView.title">
    <data>
        <instance id="notificationSettingsDc"
                  class="ru.javaboys.defidog.entity.NotificationSettings">
            <fetchPlan extends="_base">
                <property name="subscribedCryptocurrencies" fetchPlan="_base"/>
                <property name="subscribedDeFiProtocols" fetchPlan="_base"/>
            </fetchPlan>
            <loader id="notificationSettingsDl"/>
            <collection id="cryptocurrenciesDc" property="subscribedCryptocurrencies"/>
            <collection id="protocolsDc" property="subscribedDeFiProtocols"/>
        </instance>
    </data>
    <facets>
        <dataLoadCoordinator auto="true"/>
    </facets>
    <actions>
        <action id="saveAction" type="detail_saveClose"/>
        <action id="closeAction" type="detail_close"/>
    </actions>
    <layout>
        <hbox id="detailActions" visible="false">
            <button id="saveAndCloseButton" text="Сохранить" action="saveAction"/>
            <button id="closeButton" action="closeAction"/>
        </hbox>
        <hbox width="50%" height="500px">
            <vbox width="50%" classNames="border">
                <hbox id="currencyHeader" width="100%">
                    <nativeLabel id="currencyHeaderLabel" text="Интересующие криптовалюты" css="font-size: 20px"/>
                    <button id="currencyAddBtn" icon="PLUS" height="100%" themeNames="tertiary"/>
                </hbox>
                <nativeLabel id="currenciesListEmptyLabel"
                             visible="false"
                             alignSelf="CENTER"
                             text="Список пуст"/>
                <virtualList id="currenciesList"
                             itemsContainer="cryptocurrenciesDc"/>
            </vbox>
            <vbox width="50%" classNames="border">
                <hbox id="protocolHeader" width="100%">
                    <nativeLabel id="protocolHeaderLabel" text="Интересующие протоколы" css="font-size: 20px"/>
                    <button id="protocolAddBtn" icon="PLUS" height="100%" themeNames="tertiary"/>
                </hbox>
                <nativeLabel id="protocolsListEmptyLabel"
                             visible="false"
                             alignSelf="CENTER"
                             text="Список пуст"/>
                <virtualList id="protocolsList"
                             itemsContainer="protocolsDc"/>
            </vbox>
        </hbox>
    </layout>
</view>
